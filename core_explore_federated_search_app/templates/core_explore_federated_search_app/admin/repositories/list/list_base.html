{% extends 'core_main_app/_render/admin/theme/tools/box.html' %}

{% block box_title %}List all repositories{% endblock %}

{% block box_body %}

    <table class="table table-bordered table-striped table-hover">
        <tr>
            <th>Instance Name</th>
            <th>Instance URL</th>
            <th>Token expires</th>
            <th>Actions</th>
        </tr>

        {% for instance in data.instance_list %}
            {% cycle 'even' '' as rowcolors silent %}
            <tr class="{{ rowcolors }}">
                <td>{{ instance.name }}</td>
                <td>{{ instance.protocol }}://{{ instance.address }}:{{ instance.port }}</td>
                <td>{{ instance.expires }}</td>
                <td id="{{ instance.id }}">
                    {% block box_actions %}
                        <span class="icon legend edit">
                            <a class="btn btn-default" href="#"><i class="fa fa-edit"></i> Edit </a>
                        </span>
                        <span class="icon legend refresh">
                            <a class="btn btn-default" href="#"><i class="fa fa-refresh"></i> Refresh Token </a>
                        </span>
                        <span class="icon legend delete">
                            <a class="btn btn-danger" href="#"><i class="fa fa-trash"></i> Delete </a>
                        </span>
                    {% endblock %}
                </td>
            </tr>
        {% empty %}
            <tr>
                <td class="empty" colspan="4">
                    No other Curator instance registered. Click on 'Add Repository' to add a new one.
                </td>
            </tr>
        {% endfor %}
    </table>

{% endblock %}

{% block box_footer %}
{% endblock %}